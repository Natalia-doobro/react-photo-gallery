{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/ApiError/ApiError.module.css","components/Modal/Modal.module.css","components/Idle/Idle.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ApiError/error.jpg","components/ApiError/ApiError.js","components/Modal/Modal.js","components/Button/Button.js","components/Idle/pointer.jpg","components/Idle/Idle.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","name","handleChange","e","currentTarget","value","setState","handlerSubmit","preventDefault","trim","toast","error","props","onSubmit","reset","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","gallary","onClickModal","map","el","src","webformatURL","alt","user","image","onClick","id","ApiError","onError","container","imageError","title","Modal","handleKeyDown","closeModal","code","onClickOverlay","target","window","addEventListener","removeEventListener","modalSrc","Overlay","largeImageURL","Button","Idle","pointer","width","Loader","color","size","ImageGallery","loader","status","page","handlerModal","idComp","find","photo","scrollLandMore","prevState","prevProps","prevProp","inquiry","newProp","key","prevPage","setTimeout","fetch","then","res","ok","json","Promise","reject","Error","hits","catch","glPhoto","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","App","dataProcessingForm","data","toLowerCase","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.25735b56.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__Ehw47\",\"image\":\"ImageGalleryItem_image__zxzkB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ApiError_container__1lJvG\",\"title\":\"ApiError_title__1Pj0h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__25Imv\",\"Modal\":\"Modal_Modal__3uReV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Idle_container__2QzHn\",\"title\":\"Idle_title__3s3dM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3JWkF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Loader_container__1bmWx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Lucl\"};","import { Component } from \"react\";\nimport { toast } from \"react-toastify\";\nimport s from \"./Searchbar.module.css\";\n\nclass Searchbar extends Component {\n  state = {\n    name: \"\",\n  };\n\n  handleChange = (e) => {\n    const { name, value } = e.currentTarget;\n\n    this.setState({ [name]: value });\n  };\n\n  handlerSubmit = (e) => {\n    e.preventDefault();\n\n    if (this.state.name.trim() === \"\") {\n      return toast.error(\"Enter the value of your request!\");\n    }\n\n    this.props.onSubmit(this.state);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: \"\" });\n  };\n\n  render() {\n    const { name } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handlerSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./ImageGalleryItem.module.css\";\nfunction ImageGalleryItem({ gallary, onClickModal }) {\n  return gallary.map((el) => (\n    <li className={s.ImageGalleryItem} key={el.id}>\n      <img\n        src={el.webformatURL}\n        alt={el.user}\n        className={s.image}\n        onClick={() => onClickModal(el.id)}\n      />\n    </li>\n  ));\n}\n\nexport default ImageGalleryItem;\n","export default __webpack_public_path__ + \"static/media/error.8e422538.jpg\";","import imageError from \"./error.jpg\";\nimport s from \"./ApiError.module.css\";\n\nfunction ApiError({ onError }) {\n  return (\n    <div className={s.container}>\n      <img src={imageError} alt=\"error\"></img>\n      <h2 className={s.title}>{onError}</h2>\n    </div>\n  );\n}\n\nexport default ApiError;\n","import { Component } from \"react\";\nimport s from \"./Modal.module.css\";\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n  componentDidUpdate() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    const { closeModal } = this.props;\n\n    if (e.code === \"Escape\") {\n      closeModal();\n    }\n  };\n\n  onClickOverlay = (e) => {\n    const { closeModal } = this.props;\n    if (e.currentTarget === e.target) {\n      closeModal();\n    }\n  };\n\n  render() {\n    const { modalSrc } = this.props;\n    return (\n      <div className={s.Overlay} onClick={this.onClickOverlay}>\n        <div className={s.Modal}>\n          <img src={modalSrc.largeImageURL} alt={modalSrc.user} />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import s from \"./Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <button className={s.Button} onClick={onClick}>\n      Land More\n    </button>\n  );\n}\nexport default Button;\n","export default __webpack_public_path__ + \"static/media/pointer.2c3078bc.jpg\";","import pointer from \"./pointer.jpg\";\nimport s from \"./Idle.module.css\";\n\nconst Idle = ({ title }) => {\n  return (\n    <div className={s.container}>\n      <img src={pointer} alt=\"pointer\" width=\"600\"></img>\n      <h2 className={s.title}>{title}</h2>\n    </div>\n  );\n};\nexport default Idle;\n","import { Ripple } from \"react-spinners-css\";\nimport s from \"./Loader.module.css\";\n\nconst Loader = () => {\n  return (\n    <div className={s.container}>\n      <Ripple color=\"fuchsia\" size={500} />\n    </div>\n  );\n};\n\nexport default Loader;\n","import { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem\";\nimport ApiError from \"../ApiError\";\nimport Modal from \"../Modal\";\nimport Button from \"../Button\";\nimport Idle from \"../Idle\";\nimport Loader from \"../Loader\";\nimport s from \"./ImageGallery.module.css\";\n\nclass ImageGallery extends Component {\n  state = {\n    gallary: null,\n    loader: false,\n    error: null,\n    status: \"idle\",\n    modalSrc: null,\n    page: 1,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevProp = prevProps.inquiry;\n    const newProp = this.props.inquiry;\n    const key = \"23116655-204395131977af9122e6962dd\";\n    const prevPage = prevState.page;\n    const { page } = this.state;\n\n    if (prevProp !== newProp) {\n      const pg = 1;\n      this.setState({ status: \"pending\", page: 1 });\n\n      setTimeout(() => {\n        fetch(\n          `https://pixabay.com/api/?q=${newProp}&page=${pg}&key=${key}&image_type=photo&orientation=horizontal&per_page=15`\n        )\n          .then((res) => {\n            if (res.ok) {\n              return res.json();\n            }\n            return Promise.reject(\n              new Error(\n                `uneasy request. under request ${newProp} no photo found`\n              )\n            );\n          })\n          .then((photo) =>\n            this.setState({ gallary: photo.hits, status: \"resolved\" })\n          )\n          .catch((error) =>\n            this.setState({ error: error, status: \"rejected\" })\n          );\n      }, 1000);\n    }\n\n    if (prevPage !== page) {\n      fetch(\n        `https://pixabay.com/api/?q=${newProp}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=15`\n      )\n        .then((res) => {\n          if (res.ok) {\n            return res.json();\n          }\n          return Promise.reject(\n            new Error(`uneasy request. under request ${newProp} no photo found`)\n          );\n        })\n        .then((photo) => {\n          if (prevPage !== page) {\n            const glPhoto = photo.hits;\n            this.setState((prevState) => ({\n              gallary: [...prevState.gallary, ...glPhoto],\n              status: \"resolved\",\n            }));\n          }\n\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\",\n          });\n        })\n        .catch((error) => this.setState({ error: error, status: \"rejected\" }));\n    }\n  }\n\n  handlerModal = (idComp) => {\n    this.setState({\n      modalSrc: this.state.gallary.find((photo) => photo.id === idComp),\n    });\n  };\n\n  closeModal = () => {\n    this.setState({ modalSrc: null });\n  };\n\n  scrollLandMore = () => {\n    this.setState((prevState) => ({\n      page: prevState.page + 1,\n    }));\n  };\n\n  render() {\n    const { gallary, error, status, modalSrc } = this.state;\n    // const { inquiry } = this.props;\n\n    if (status === \"idle\") {\n      return <Idle title=\"Enter request\"></Idle>;\n    }\n\n    if (status === \"pending\") {\n      return <Loader></Loader>;\n    }\n\n    if (status === \"rejected\") {\n      return <ApiError onError={error.message}></ApiError>;\n    }\n\n    if (status === \"resolved\") {\n      return (\n        <>\n          {gallary.length > 0 ? (\n            <ul className={s.ImageGallery}>\n              {gallary && (\n                <ImageGalleryItem\n                  gallary={gallary}\n                  onClickModal={this.handlerModal}\n                ></ImageGalleryItem>\n              )}\n            </ul>\n          ) : (\n            <ApiError onError=\"photo not found\"></ApiError>\n          )}\n\n          {gallary.length > 0 && (\n            <Button onClick={this.scrollLandMore}></Button>\n          )}\n          {modalSrc && (\n            <Modal modalSrc={modalSrc} closeModal={this.closeModal}></Modal>\n          )}\n        </>\n      );\n    }\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nclass App extends Component {\n  state = {\n    inquiry: \"\",\n  };\n\n  dataProcessingForm = (data) => {\n    this.setState({ inquiry: data.name.toLowerCase() });\n  };\n\n  render() {\n    const { inquiry } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.dataProcessingForm}></Searchbar>\n        <ImageGallery inquiry={inquiry} />\n        <ToastContainer theme=\"colored\" />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__3lUe8\",\"SearchForm\":\"Searchbar_SearchForm__LF0jM\",\"SearchFormButton\":\"Searchbar_SearchFormButton__1Teoz\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2sJ0T\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2WV4R\"};"],"sourceRoot":""}